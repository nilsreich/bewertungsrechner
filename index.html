<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MSS Notenrechner</title>
    <meta name="description" content="Kostenloser Online-Bewertungsrechner für das MSS-Punktesystem. Berechne Notenpunkte, Limits und Punktedurchschnitte schnell und einfach.">
    <meta name="keywords" content="MSS, Notenrechner, Punktesystem, Oberstufe, Gymnasium, Rheinland-Pfalz, Bewertung, Noten">
    <meta name="author" content="Nils Reich">
    <meta name="theme-color" content="#f8fafc" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#050505" media="(prefers-color-scheme: dark)" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
   </head>
  <body class="bg-slate-50 dark:bg-[#050505] text-slate-900 dark:text-neutral-200 min-h-screen transition-colors duration-300 antialiased">
    <div id="app" class="min-h-screen bg-slate-50 dark:bg-[#050505]">
      <div class="max-w-2xl mx-auto px-4 sm:px-6 pb-12">
        
        <!-- Sticky Header Container -->
        <div class="sticky top-0 z-20 pt-6 pb-4 bg-slate-50/80 dark:bg-[#050505]/80 backdrop-blur-lg border-b border-slate-200 dark:border-neutral-900 mb-6">
          <div class="flex flex-col space-y-6">
            
            <!-- Input Section -->
            <div class="relative max-w-md mx-auto w-full group" >
              <label class="block no-print text-[10px] font-bold text-slate-500 dark:text-neutral-500 mb-2 uppercase tracking-[0.2em] text-center">
                Maximale Punktzahl
              </label>
              <div class="relative">
                <input 
                  id="maxPoints"
                  type="number" 
                  inputmode="decimal"
                  placeholder="0" 
                  class="w-full no-print rounded-3xl border-2 border-slate-200 dark:border-neutral-800 bg-white dark:bg-neutral-900/50 p-4 sm:p-5 text-3xl sm:text-4xl font-extrabold text-slate-900 dark:text-white text-center placeholder:text-slate-300 dark:placeholder:text-neutral-800 focus:border-teal-500 dark:focus:border-teal-500 focus:outline-none transition-all shadow-sm dark:shadow-inner"
                />
                <button id="clearMaxPoints" aria-label="Eingabe löschen" class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 hover:text-red-500 transition-colors cursor-pointer no-print p-2 rounded-full hover:bg-slate-100 dark:hover:bg-neutral-800 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
              </div>
              <!-- Quick Action Presets -->
              <div class="flex flex-wrap justify-center gap-2 mt-4 no-print">
                <button data-value="15" aria-label="Setze max Punkte auf 15" class="preset-btn px-3 py-1 text-[10px] font-bold rounded-lg border border-slate-200 dark:border-neutral-800 text-slate-400 hover:border-teal-500 hover:text-teal-500 transition-all cursor-pointer">15</button>
                <button data-value="20" aria-label="Setze max Punkte auf 20" class="preset-btn px-3 py-1 text-[10px] font-bold rounded-lg border border-slate-200 dark:border-neutral-800 text-slate-400 hover:border-teal-500 hover:text-teal-500 transition-all cursor-pointer">20</button>
                <button data-value="30" aria-label="Setze max Punkte auf 30" class="preset-btn px-3 py-1 text-[10px] font-bold rounded-lg border border-slate-200 dark:border-neutral-800 text-slate-400 hover:border-teal-500 hover:text-teal-500 transition-all cursor-pointer">30</button>
                <button data-value="45" aria-label="Setze max Punkte auf 45" class="preset-btn px-3 py-1 text-[10px] font-bold rounded-lg border border-slate-200 dark:border-neutral-800 text-slate-400 hover:border-teal-500 hover:text-teal-500 transition-all cursor-pointer">45</button>
                <button data-value="60" aria-label="Setze max Punkte auf 60" class="preset-btn px-3 py-1 text-[10px] font-bold rounded-lg border border-slate-200 dark:border-neutral-800 text-slate-400 hover:border-teal-500 hover:text-teal-500 transition-all cursor-pointer">60</button>
                <button data-value="90" aria-label="Setze max Punkte auf 90" class="preset-btn px-3 py-1 text-[10px] font-bold rounded-lg border border-slate-200 dark:border-neutral-800 text-slate-400 hover:border-teal-500 hover:text-teal-500 transition-all cursor-pointer">90</button>
              </div>
            </div>

            <!-- Rounding Toggle Segmented Control -->
            <div class="flex bg-slate-200 dark:bg-neutral-900/80 p-1.5 rounded-2xl border border-slate-300 dark:border-neutral-800 shadow-sm max-w-md mx-auto w-full">
              <div class="flex-1">
                <input type="radio" id="roundNone" name="rounding" value="none" class="hidden segment-button">
                <label for="roundNone" class="block text-center py-2 text-[11px] font-bold rounded-xl cursor-pointer transition-all hover:text-slate-900 dark:hover:text-white text-slate-500 dark:text-neutral-500 uppercase tracking-tight">Exakt</label>
              </div>
              <div class="flex-1">
                <input type="radio" id="roundDown" name="rounding" value="down" class="hidden segment-button" checked>
                <label for="roundDown" class="block text-center py-2 text-[11px] font-bold rounded-xl cursor-pointer transition-all hover:text-slate-900 dark:hover:text-white text-slate-500 dark:text-neutral-500 uppercase tracking-tight border-l border-slate-300 dark:border-neutral-800/50">Ab</label>
              </div>
              <div class="flex-1">
                <input type="radio" id="roundHalf" name="rounding" value="half" class="hidden segment-button">
                <label for="roundHalf" class="block text-center py-2 text-[11px] font-bold rounded-xl cursor-pointer transition-all hover:text-slate-900 dark:hover:text-white text-slate-500 dark:text-neutral-500 uppercase tracking-tight border-l border-slate-300 dark:border-neutral-800/50">0,5er</label>
              </div>
              <div class="flex-1">
                <input type="radio" id="roundUp" name="rounding" value="up" class="hidden segment-button">
                <label for="roundUp" class="block text-center py-2 text-[11px] font-bold rounded-xl cursor-pointer transition-all hover:text-slate-900 dark:hover:text-white text-slate-500 dark:text-neutral-500 uppercase tracking-tight border-l border-slate-300 dark:border-neutral-800/50">Auf</label>
              </div>
            </div>
          </div>
        </div>

        <!-- Result Table -->
        <div class="flex items-center justify-between mb-4 px-2">
          <h2 class="text-[10px] font-bold text-slate-500 dark:text-neutral-500 uppercase tracking-[0.2em]">Punktetabelle</h2>
          <button id="copyTableButton" class="no-print text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1.5 hover:opacity-70 transition-opacity cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></svg>
            Tabelle kopieren
          </button>
        </div>
        <div class="overflow-hidden rounded-3xl border border-slate-200 dark:border-neutral-800 shadow-xl bg-white dark:bg-neutral-900/20">
          <table class="w-full table-fixed border-collapse tabular-nums">
            <thead class="bg-slate-100 dark:bg-neutral-900/40">
              <tr>
                <th class="w-1/4 p-4 text-left text-slate-500 dark:text-neutral-500 text-[10px] uppercase tracking-[0.2em] font-black border-b border-slate-200 dark:border-neutral-800">MSS</th>
                <th class="w-1/3 p-4 text-center text-slate-500 dark:text-neutral-500 text-[10px] uppercase tracking-[0.2em] font-black border-b border-slate-200 dark:border-neutral-800">Limit (%)</th>
                <th class="p-4 text-right text-slate-500 dark:text-neutral-500 text-[10px] uppercase tracking-[0.2em] font-black border-b border-slate-200 dark:border-neutral-800">Punkte</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>

        <!-- Grade Average Calculator Section -->
        <div class="mt-16 pt-12 border-t border-slate-200 dark:border-neutral-900">
          <div class="flex items-center justify-between mb-8 px-2">
            <h2 class="text-[10px] font-bold text-slate-500 dark:text-neutral-500 uppercase tracking-[0.2em]">Notenschnitt (MSS)</h2>
            <button id="resetGradesButton" class="no-print text-[10px] font-bold text-red-500/80 uppercase tracking-widest flex items-center gap-1.5 hover:opacity-70 transition-opacity cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
              Löschen
            </button>
          </div>
          
          <div class="grid grid-cols-6 sm:grid-cols-6 gap-2 mb-8" id="gradeInputsContainer">
            <!-- Will be populated by JS -->
          </div>

          <div class="bg-white dark:bg-neutral-900/40 rounded-3xl p-6 border border-slate-200 dark:border-neutral-800 shadow-xl overflow-hidden relative">
            <div class="grid grid-cols-2 gap-4 text-center mb-10 relative z-10">
              <div>
                <div class="text-[9px] font-bold text-slate-400 dark:text-neutral-500 uppercase tracking-widest mb-1">Anzahl Noten</div>
                <div id="gradeCountDisplay" class="text-3xl font-black text-slate-900 dark:text-white">0</div>
              </div>
              <div>
                <div class="text-[9px] font-bold text-slate-400 dark:text-neutral-500 uppercase tracking-widest mb-1">Durchschnitt</div>
                <div id="averageDisplay" class="text-3xl font-black text-teal-600 dark:text-teal-400">0.00</div>
              </div>
            </div>
            
            <div class="space-y-4 relative z-10 no-print">
              <div class="text-[9px] font-bold text-slate-400 dark:text-neutral-500 uppercase tracking-widest mb-2 text-center">Verteilung</div>
              <div id="distributionBar" class="flex items-end justify-between h-32 w-full gap-1 px-2">
                <!-- Columns added by JS -->
              </div>
              <div id="distributionLegend" class="flex flex-wrap justify-center gap-x-6 gap-y-2 mt-4 text-[9px] font-bold uppercase text-slate-500">
                <!-- Legend items added by JS -->
              </div>
            </div>
          </div>
        </div>

        <!-- Print & Share Button -->
        <div class="mt-12 mb-8 flex flex-col sm:flex-row justify-center gap-4 no-print">
          <button 
            onclick="window.print()" 
            class="flex items-center justify-center gap-2 px-6 py-3 bg-slate-100 dark:bg-neutral-900 text-slate-900 dark:text-white rounded-2xl font-bold text-sm hover:bg-slate-200 dark:hover:bg-neutral-800 transition-colors cursor-pointer shadow-sm border border-slate-200 dark:border-neutral-800"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><path d="M6 9V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v5"/><rect width="12" height="8" x="6" y="14" rx="1"/></svg>
            Drucken
          </button>
          <button 
            id="shareButton"
            class="flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-2xl font-bold text-sm hover:scale-105 transition-all cursor-pointer shadow-lg"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
            Teilen
          </button>
        </div>

      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>